<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Thu Oct 29 15:17:52 IST 2020 -->
<TITLE>
MessageRouter
</TITLE>

<META NAME="date" CONTENT="2020-10-29">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="MessageRouter";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../routing/MaxPropRouterWithEstimation.html" title="class in routing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../routing/PassiveRouter.html" title="class in routing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?routing/MessageRouter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageRouter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
routing</FONT>
<BR>
Class MessageRouter</H2>
<PRE>
java.lang.Object
  <IMG SRC="../resources/inherit.gif" ALT="extended by "><B>routing.MessageRouter</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../routing/ActiveRouter.html" title="class in routing">ActiveRouter</A>, <A HREF="../routing/PassiveRouter.html" title="class in routing">PassiveRouter</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>MessageRouter</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Superclass for message routers.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#B_SIZE_S">B_SIZE_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message buffer size -setting id ("bufferSize").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_LOW_RESOURCES">DENIED_LOW_RESOURCES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for a node low on some resource(s)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_NO_SPACE">DENIED_NO_SPACE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for not enough space in the buffer for the msg</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_OLD">DENIED_OLD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for an old (already received) message</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_POLICY">DENIED_POLICY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for a node low on some resource(s)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_TTL">DENIED_TTL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for messages whose TTL has expired</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#DENIED_UNSPECIFIED">DENIED_UNSPECIFIED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for unspecified reason</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#MSG_TTL_S">MSG_TTL_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message TTL -setting id ("msgTtl").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#msgTtl">msgTtl</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TTL for all messages</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#Q_MODE_FIFO">Q_MODE_FIFO</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setting value for FIFO queue mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#Q_MODE_RANDOM">Q_MODE_RANDOM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Setting value for random queue mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#RCV_OK">RCV_OK</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for OK</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#SEND_QUEUE_MODE_S">SEND_QUEUE_MODE_S</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Message/fragment sending queue type -setting id ("sendQueue").</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#TRY_LATER_BUSY">TRY_LATER_BUSY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receive return value for busy receiver</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#MessageRouter(routing.MessageRouter)">MessageRouter</A></B>(<A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A>&nbsp;r)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy-constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#MessageRouter(core.Settings)">MessageRouter</A></B>(<A HREF="../core/Settings.html" title="class in core">Settings</A>&nbsp;s)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#addApplication(core.Application)">addApplication</A></B>(<A HREF="../core/Application.html" title="class in core">Application</A>&nbsp;app)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds an application to the attached applications list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#addToMessages(core.Message, boolean)">addToMessages</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
              boolean&nbsp;newMessage)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a message to the message buffer and informs message listeners
 about new message (if requested).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#changedConnection(core.Connection)">changedConnection</A></B>(<A HREF="../core/Connection.html" title="class in core">Connection</A>&nbsp;con)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Informs the router about change in connections state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#compareByQueueMode(core.Message, core.Message)">compareByQueueMode</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m1,
                   <A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gives the order of the two given messages as defined by the current
 queue mode</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#createNewMessage(core.Message)">createNewMessage</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new message to the router.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#deleteMessage(java.lang.String, boolean)">deleteMessage</A></B>(java.lang.String&nbsp;id,
              boolean&nbsp;drop)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes a message from the buffer and informs message listeners
 about the event</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../core/Application.html" title="class in core">Application</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getApplications(java.lang.String)">getApplications</A></B>(java.lang.String&nbsp;ID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all the applications that want to receive messages for the given
 application ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getBufferSize()">getBufferSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the size of the message buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getFreeBufferSize()">getFreeBufferSize</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the amount of free space in the buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../core/DTNHost.html" title="class in core">DTNHost</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getHost()">getHost</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the host this router is in</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../core/Message.html" title="class in core">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getMessage(java.lang.String)">getMessage</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a message by ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection&lt;<A HREF="../core/Message.html" title="class in core">Message</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getMessageCollection()">getMessageCollection</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a reference to the messages of this router in collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getNrofMessages()">getNrofMessages</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of messages this router has</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#getRoutingInfo()">getRoutingInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns routing information about this router.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#hasMessage(java.lang.String)">hasMessage</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if this router has a message with certain id buffered.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#init(core.DTNHost, java.util.List)">init</A></B>(<A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;host,
     java.util.List&lt;<A HREF="../core/MessageListener.html" title="interface in core">MessageListener</A>&gt;&nbsp;mListeners)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes the router; i.e.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#isBlacklistedMessage(java.lang.String)">isBlacklistedMessage</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the message has been blacklisted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#isDeliveredMessage(core.Message)">isDeliveredMessage</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if a full message with same ID as the given message has been
 received by this host as the <strong>final</strong> recipient 
 (at least once).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#isIncomingMessage(java.lang.String)">isIncomingMessage</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns true if a message with the given ID is one of the
 currently incoming messages, false if not</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#messageAborted(java.lang.String, core.DTNHost, int)">messageAborted</A></B>(java.lang.String&nbsp;id,
               <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from,
               int&nbsp;bytesRemaining)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method should be called (on the receiving host) when a message 
 transfer was aborted.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../core/Message.html" title="class in core">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#messageTransferred(java.lang.String, core.DTNHost)">messageTransferred</A></B>(java.lang.String&nbsp;id,
                   <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method should be called (on the receiving host) after a message
 was successfully transferred.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#putToIncomingBuffer(core.Message, core.DTNHost)">putToIncomingBuffer</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
                    <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Puts a message to incoming messages buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#receiveMessage(core.Message, core.DTNHost)">receiveMessage</A></B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
               <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Try to start receiving a message from another host.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../core/Message.html" title="class in core">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#removeFromIncomingBuffer(java.lang.String, core.DTNHost)">removeFromIncomingBuffer</A></B>(java.lang.String&nbsp;id,
                         <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes and returns a message with a certain ID from the incoming 
 messages buffer or null if such message wasn't found.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../core/Message.html" title="class in core">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#removeFromMessages(java.lang.String)">removeFromMessages</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes and returns a message from the message buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;<A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#replicate()">replicate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a replicate of this router.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#requestDeliverableMessages(core.Connection)">requestDeliverableMessages</A></B>(<A HREF="../core/Connection.html" title="class in core">Connection</A>&nbsp;con)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Requests for deliverable message from this router to be sent trough a
 connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#sendMessage(java.lang.String, core.DTNHost)">sendMessage</A></B>(java.lang.String&nbsp;id,
            <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;to)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start sending a message to another host.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#sortByQueueMode(java.util.List)">sortByQueueMode</A></B>(java.util.List&nbsp;list)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sorts/shuffles the given list according to the current sending queue 
 mode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#toString()">toString</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a String presentation of this router</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../routing/MessageRouter.html#update()">update</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates router.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="B_SIZE_S"><!-- --></A><H3>
B_SIZE_S</H3>
<PRE>
public static final java.lang.String <B>B_SIZE_S</B></PRE>
<DL>
<DD>Message buffer size -setting id ("bufferSize"). Integer value in bytes.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.B_SIZE_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="MSG_TTL_S"><!-- --></A><H3>
MSG_TTL_S</H3>
<PRE>
public static final java.lang.String <B>MSG_TTL_S</B></PRE>
<DL>
<DD>Message TTL -setting id ("msgTtl"). Value is in minutes and must be
 an integer.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.MSG_TTL_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="SEND_QUEUE_MODE_S"><!-- --></A><H3>
SEND_QUEUE_MODE_S</H3>
<PRE>
public static final java.lang.String <B>SEND_QUEUE_MODE_S</B></PRE>
<DL>
<DD>Message/fragment sending queue type -setting id ("sendQueue"). 
 This setting affects the order the messages and fragments are sent if the
 routing protocol doesn't define any particular order (e.g, if more than 
 one message can be sent directly to the final recipient). 
 Valid values are<BR>
 <UL>
 <LI/> 1 : random (message order is randomized every time; default option)
 <LI/> 2 : FIFO (most recently received messages are sent last)
 </UL>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.SEND_QUEUE_MODE_S">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="Q_MODE_RANDOM"><!-- --></A><H3>
Q_MODE_RANDOM</H3>
<PRE>
public static final int <B>Q_MODE_RANDOM</B></PRE>
<DL>
<DD>Setting value for random queue mode
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.Q_MODE_RANDOM">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="Q_MODE_FIFO"><!-- --></A><H3>
Q_MODE_FIFO</H3>
<PRE>
public static final int <B>Q_MODE_FIFO</B></PRE>
<DL>
<DD>Setting value for FIFO queue mode
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.Q_MODE_FIFO">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="RCV_OK"><!-- --></A><H3>
RCV_OK</H3>
<PRE>
public static final int <B>RCV_OK</B></PRE>
<DL>
<DD>Receive return value for OK
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.RCV_OK">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="TRY_LATER_BUSY"><!-- --></A><H3>
TRY_LATER_BUSY</H3>
<PRE>
public static final int <B>TRY_LATER_BUSY</B></PRE>
<DL>
<DD>Receive return value for busy receiver
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.TRY_LATER_BUSY">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_OLD"><!-- --></A><H3>
DENIED_OLD</H3>
<PRE>
public static final int <B>DENIED_OLD</B></PRE>
<DL>
<DD>Receive return value for an old (already received) message
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_OLD">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_NO_SPACE"><!-- --></A><H3>
DENIED_NO_SPACE</H3>
<PRE>
public static final int <B>DENIED_NO_SPACE</B></PRE>
<DL>
<DD>Receive return value for not enough space in the buffer for the msg
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_NO_SPACE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_TTL"><!-- --></A><H3>
DENIED_TTL</H3>
<PRE>
public static final int <B>DENIED_TTL</B></PRE>
<DL>
<DD>Receive return value for messages whose TTL has expired
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_TTL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_LOW_RESOURCES"><!-- --></A><H3>
DENIED_LOW_RESOURCES</H3>
<PRE>
public static final int <B>DENIED_LOW_RESOURCES</B></PRE>
<DL>
<DD>Receive return value for a node low on some resource(s)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_LOW_RESOURCES">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_POLICY"><!-- --></A><H3>
DENIED_POLICY</H3>
<PRE>
public static final int <B>DENIED_POLICY</B></PRE>
<DL>
<DD>Receive return value for a node low on some resource(s)
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_POLICY">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DENIED_UNSPECIFIED"><!-- --></A><H3>
DENIED_UNSPECIFIED</H3>
<PRE>
public static final int <B>DENIED_UNSPECIFIED</B></PRE>
<DL>
<DD>Receive return value for unspecified reason
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../constant-values.html#routing.MessageRouter.DENIED_UNSPECIFIED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="msgTtl"><!-- --></A><H3>
msgTtl</H3>
<PRE>
protected int <B>msgTtl</B></PRE>
<DL>
<DD>TTL for all messages
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="MessageRouter(core.Settings)"><!-- --></A><H3>
MessageRouter</H3>
<PRE>
public <B>MessageRouter</B>(<A HREF="../core/Settings.html" title="class in core">Settings</A>&nbsp;s)</PRE>
<DL>
<DD>Constructor. Creates a new message router based on the settings in
 the given Settings object. Size of the message buffer is read from
 <A HREF="../routing/MessageRouter.html#B_SIZE_S"><CODE>B_SIZE_S</CODE></A> setting. Default value is Integer.MAX_VALUE.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>s</CODE> - The settings object</DL>
</DL>
<HR>

<A NAME="MessageRouter(routing.MessageRouter)"><!-- --></A><H3>
MessageRouter</H3>
<PRE>
protected <B>MessageRouter</B>(<A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A>&nbsp;r)</PRE>
<DL>
<DD>Copy-constructor.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>r</CODE> - Router to copy the settings from.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="init(core.DTNHost, java.util.List)"><!-- --></A><H3>
init</H3>
<PRE>
public void <B>init</B>(<A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;host,
                 java.util.List&lt;<A HREF="../core/MessageListener.html" title="interface in core">MessageListener</A>&gt;&nbsp;mListeners)</PRE>
<DL>
<DD>Initializes the router; i.e. sets the host this router is in and
 message listeners that need to be informed about message related
 events etc.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>host</CODE> - The host this router is in<DD><CODE>mListeners</CODE> - The message listeners</DL>
</DD>
</DL>
<HR>

<A NAME="update()"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>()</PRE>
<DL>
<DD>Updates router.
 This method should be called (at least once) on every simulation
 interval to update the status of transfer(s).
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="changedConnection(core.Connection)"><!-- --></A><H3>
changedConnection</H3>
<PRE>
public abstract void <B>changedConnection</B>(<A HREF="../core/Connection.html" title="class in core">Connection</A>&nbsp;con)</PRE>
<DL>
<DD>Informs the router about change in connections state.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>con</CODE> - The connection that changed</DL>
</DD>
</DL>
<HR>

<A NAME="getMessage(java.lang.String)"><!-- --></A><H3>
getMessage</H3>
<PRE>
protected <A HREF="../core/Message.html" title="class in core">Message</A> <B>getMessage</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Returns a message by ID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - ID of the message
<DT><B>Returns:</B><DD>The message</DL>
</DD>
</DL>
<HR>

<A NAME="hasMessage(java.lang.String)"><!-- --></A><H3>
hasMessage</H3>
<PRE>
public boolean <B>hasMessage</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Checks if this router has a message with certain id buffered.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Identifier of the message
<DT><B>Returns:</B><DD>True if the router has message with this id, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="isDeliveredMessage(core.Message)"><!-- --></A><H3>
isDeliveredMessage</H3>
<PRE>
protected boolean <B>isDeliveredMessage</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</PRE>
<DL>
<DD>Returns true if a full message with same ID as the given message has been
 received by this host as the <strong>final</strong> recipient 
 (at least once).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - message we're interested of
<DT><B>Returns:</B><DD>true if a message with the same ID has been received by 
 this host as the final recipient.</DL>
</DD>
</DL>
<HR>

<A NAME="isBlacklistedMessage(java.lang.String)"><!-- --></A><H3>
isBlacklistedMessage</H3>
<PRE>
protected boolean <B>isBlacklistedMessage</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Returns <code>true</code> if the message has been blacklisted. Messages
 get blacklisted when an application running on the node wants to drop it.
 This ensures the peer doesn't try to constantly send the same message to
 this node, just to get dropped by an application every time.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - id of the message
<DT><B>Returns:</B><DD><code>true</code> if blacklisted, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getMessageCollection()"><!-- --></A><H3>
getMessageCollection</H3>
<PRE>
public java.util.Collection&lt;<A HREF="../core/Message.html" title="class in core">Message</A>&gt; <B>getMessageCollection</B>()</PRE>
<DL>
<DD>Returns a reference to the messages of this router in collection.
 <b>Note:</b> If there's a chance that some message(s) from the collection
 could be deleted (or added) while iterating through the collection, a
 copy of the collection should be made to avoid concurrent modification
 exceptions.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a reference to the messages of this router in collection</DL>
</DD>
</DL>
<HR>

<A NAME="getNrofMessages()"><!-- --></A><H3>
getNrofMessages</H3>
<PRE>
public int <B>getNrofMessages</B>()</PRE>
<DL>
<DD>Returns the number of messages this router has
<P>
<DD><DL>

<DT><B>Returns:</B><DD>How many messages this router has</DL>
</DD>
</DL>
<HR>

<A NAME="getBufferSize()"><!-- --></A><H3>
getBufferSize</H3>
<PRE>
public int <B>getBufferSize</B>()</PRE>
<DL>
<DD>Returns the size of the message buffer.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The size or Integer.MAX_VALUE if the size isn't defined.</DL>
</DD>
</DL>
<HR>

<A NAME="getFreeBufferSize()"><!-- --></A><H3>
getFreeBufferSize</H3>
<PRE>
public int <B>getFreeBufferSize</B>()</PRE>
<DL>
<DD>Returns the amount of free space in the buffer. May return a negative
 value if there are more messages in the buffer than should fit there
 (because of creating new messages).
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The amount of free space (Integer.MAX_VALUE if the buffer
 size isn't defined)</DL>
</DD>
</DL>
<HR>

<A NAME="getHost()"><!-- --></A><H3>
getHost</H3>
<PRE>
protected <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A> <B>getHost</B>()</PRE>
<DL>
<DD>Returns the host this router is in
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The host object</DL>
</DD>
</DL>
<HR>

<A NAME="sendMessage(java.lang.String, core.DTNHost)"><!-- --></A><H3>
sendMessage</H3>
<PRE>
public void <B>sendMessage</B>(java.lang.String&nbsp;id,
                        <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;to)</PRE>
<DL>
<DD>Start sending a message to another host.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Id of the message to send<DD><CODE>to</CODE> - The host to send the message to</DL>
</DD>
</DL>
<HR>

<A NAME="requestDeliverableMessages(core.Connection)"><!-- --></A><H3>
requestDeliverableMessages</H3>
<PRE>
public boolean <B>requestDeliverableMessages</B>(<A HREF="../core/Connection.html" title="class in core">Connection</A>&nbsp;con)</PRE>
<DL>
<DD>Requests for deliverable message from this router to be sent trough a
 connection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>con</CODE> - The connection to send the messages trough
<DT><B>Returns:</B><DD>True if this router started a transfer, false if not</DL>
</DD>
</DL>
<HR>

<A NAME="receiveMessage(core.Message, core.DTNHost)"><!-- --></A><H3>
receiveMessage</H3>
<PRE>
public int <B>receiveMessage</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
                          <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</PRE>
<DL>
<DD>Try to start receiving a message from another host.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - Message to put in the receiving buffer<DD><CODE>from</CODE> - Who the message is from
<DT><B>Returns:</B><DD>Value zero if the node accepted the message (RCV_OK), value less
 than zero if node rejected the message (e.g. DENIED_OLD), value bigger
 than zero if the other node should try later (e.g. TRY_LATER_BUSY).</DL>
</DD>
</DL>
<HR>

<A NAME="messageTransferred(java.lang.String, core.DTNHost)"><!-- --></A><H3>
messageTransferred</H3>
<PRE>
public <A HREF="../core/Message.html" title="class in core">Message</A> <B>messageTransferred</B>(java.lang.String&nbsp;id,
                                  <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</PRE>
<DL>
<DD>This method should be called (on the receiving host) after a message
 was successfully transferred. The transferred message is put to the
 message buffer unless this host is the final recipient of the message.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Id of the transferred message<DD><CODE>from</CODE> - Host the message was from (previous hop)
<DT><B>Returns:</B><DD>The message that this host received</DL>
</DD>
</DL>
<HR>

<A NAME="putToIncomingBuffer(core.Message, core.DTNHost)"><!-- --></A><H3>
putToIncomingBuffer</H3>
<PRE>
protected void <B>putToIncomingBuffer</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
                                   <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</PRE>
<DL>
<DD>Puts a message to incoming messages buffer. Two messages with the
 same ID are distinguished by the from host.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - The message to put<DD><CODE>from</CODE> - Who the message was from (previous hop).</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromIncomingBuffer(java.lang.String, core.DTNHost)"><!-- --></A><H3>
removeFromIncomingBuffer</H3>
<PRE>
protected <A HREF="../core/Message.html" title="class in core">Message</A> <B>removeFromIncomingBuffer</B>(java.lang.String&nbsp;id,
                                           <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from)</PRE>
<DL>
<DD>Removes and returns a message with a certain ID from the incoming 
 messages buffer or null if such message wasn't found.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - ID of the message<DD><CODE>from</CODE> - The host that sent this message (previous hop)
<DT><B>Returns:</B><DD>The found message or null if such message wasn't found</DL>
</DD>
</DL>
<HR>

<A NAME="isIncomingMessage(java.lang.String)"><!-- --></A><H3>
isIncomingMessage</H3>
<PRE>
protected boolean <B>isIncomingMessage</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Returns true if a message with the given ID is one of the
 currently incoming messages, false if not
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - ID of the message
<DT><B>Returns:</B><DD>True if such message is incoming right now</DL>
</DD>
</DL>
<HR>

<A NAME="addToMessages(core.Message, boolean)"><!-- --></A><H3>
addToMessages</H3>
<PRE>
protected void <B>addToMessages</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m,
                             boolean&nbsp;newMessage)</PRE>
<DL>
<DD>Adds a message to the message buffer and informs message listeners
 about new message (if requested).
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - The message to add<DD><CODE>newMessage</CODE> - If true, message listeners are informed about a new
 message, if false, nothing is informed.</DL>
</DD>
</DL>
<HR>

<A NAME="removeFromMessages(java.lang.String)"><!-- --></A><H3>
removeFromMessages</H3>
<PRE>
protected <A HREF="../core/Message.html" title="class in core">Message</A> <B>removeFromMessages</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Removes and returns a message from the message buffer.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Identifier of the message to remove
<DT><B>Returns:</B><DD>The removed message or null if message for the ID wasn't found</DL>
</DD>
</DL>
<HR>

<A NAME="messageAborted(java.lang.String, core.DTNHost, int)"><!-- --></A><H3>
messageAborted</H3>
<PRE>
public void <B>messageAborted</B>(java.lang.String&nbsp;id,
                           <A HREF="../core/DTNHost.html" title="class in core">DTNHost</A>&nbsp;from,
                           int&nbsp;bytesRemaining)</PRE>
<DL>
<DD>This method should be called (on the receiving host) when a message 
 transfer was aborted.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Id of the message that was being transferred<DD><CODE>from</CODE> - Host the message was from (previous hop)<DD><CODE>bytesRemaining</CODE> - Nrof bytes that were left before the transfer
 would have been ready; or -1 if the number of bytes is not known</DL>
</DD>
</DL>
<HR>

<A NAME="createNewMessage(core.Message)"><!-- --></A><H3>
createNewMessage</H3>
<PRE>
public boolean <B>createNewMessage</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m)</PRE>
<DL>
<DD>Creates a new message to the router.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m</CODE> - The message to create
<DT><B>Returns:</B><DD>True if the creation succeeded, false if not (e.g.
 the message was too big for the buffer)</DL>
</DD>
</DL>
<HR>

<A NAME="deleteMessage(java.lang.String, boolean)"><!-- --></A><H3>
deleteMessage</H3>
<PRE>
public void <B>deleteMessage</B>(java.lang.String&nbsp;id,
                          boolean&nbsp;drop)</PRE>
<DL>
<DD>Deletes a message from the buffer and informs message listeners
 about the event
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - Identifier of the message to delete<DD><CODE>drop</CODE> - If the message is dropped (e.g. because of full buffer) this 
 should be set to true. False value indicates e.g. remove of message
 because it was delivered to final destination.</DL>
</DD>
</DL>
<HR>

<A NAME="sortByQueueMode(java.util.List)"><!-- --></A><H3>
sortByQueueMode</H3>
<PRE>
protected java.util.List <B>sortByQueueMode</B>(java.util.List&nbsp;list)</PRE>
<DL>
<DD>Sorts/shuffles the given list according to the current sending queue 
 mode. The list can contain either Message or Tuple<Message, Connection> 
 objects. Other objects cause error.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>list</CODE> - The list to sort or shuffle
<DT><B>Returns:</B><DD>The sorted/shuffled list</DL>
</DD>
</DL>
<HR>

<A NAME="compareByQueueMode(core.Message, core.Message)"><!-- --></A><H3>
compareByQueueMode</H3>
<PRE>
protected int <B>compareByQueueMode</B>(<A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m1,
                                 <A HREF="../core/Message.html" title="class in core">Message</A>&nbsp;m2)</PRE>
<DL>
<DD>Gives the order of the two given messages as defined by the current
 queue mode
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>m1</CODE> - The first message<DD><CODE>m2</CODE> - The second message
<DT><B>Returns:</B><DD>-1 if the first message should come first, 1 if the second 
          message should come first, or 0 if the ordering isn't defined</DL>
</DD>
</DL>
<HR>

<A NAME="getRoutingInfo()"><!-- --></A><H3>
getRoutingInfo</H3>
<PRE>
public <A HREF="../routing/util/RoutingInfo.html" title="class in routing.util">RoutingInfo</A> <B>getRoutingInfo</B>()</PRE>
<DL>
<DD>Returns routing information about this router.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The routing information.</DL>
</DD>
</DL>
<HR>

<A NAME="addApplication(core.Application)"><!-- --></A><H3>
addApplication</H3>
<PRE>
public void <B>addApplication</B>(<A HREF="../core/Application.html" title="class in core">Application</A>&nbsp;app)</PRE>
<DL>
<DD>Adds an application to the attached applications list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>app</CODE> - The application to attach to this router.</DL>
</DD>
</DL>
<HR>

<A NAME="getApplications(java.lang.String)"><!-- --></A><H3>
getApplications</H3>
<PRE>
public java.util.Collection&lt;<A HREF="../core/Application.html" title="class in core">Application</A>&gt; <B>getApplications</B>(java.lang.String&nbsp;ID)</PRE>
<DL>
<DD>Returns all the applications that want to receive messages for the given
 application ID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ID</CODE> - The application ID or <code>null</code> for all apps.
<DT><B>Returns:</B><DD>A list of all applications that want to receive the message.</DL>
</DD>
</DL>
<HR>

<A NAME="replicate()"><!-- --></A><H3>
replicate</H3>
<PRE>
public abstract <A HREF="../routing/MessageRouter.html" title="class in routing">MessageRouter</A> <B>replicate</B>()</PRE>
<DL>
<DD>Creates a replicate of this router. The replicate has the same
 settings as this router but empty buffers and routing tables.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>The replicate</DL>
</DD>
</DL>
<HR>

<A NAME="toString()"><!-- --></A><H3>
toString</H3>
<PRE>
public java.lang.String <B>toString</B>()</PRE>
<DL>
<DD>Returns a String presentation of this router
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE>toString</CODE> in class <CODE>java.lang.Object</CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>A String presentation of this router</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../routing/MaxPropRouterWithEstimation.html" title="class in routing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../routing/PassiveRouter.html" title="class in routing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?routing/MessageRouter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageRouter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
